<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AmbonMUD Web Client</title>
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@xterm/xterm@5.5.0/css/xterm.css"
    >
    <link rel="stylesheet" href="/styles/design-tokens.css">
    <link rel="stylesheet" href="/styles/typography.css">
    <link rel="stylesheet" href="/styles/animations.css">
    <link rel="stylesheet" href="/styles/canvas-panel.css">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
<main class="shell">
    <header class="topbar">
        <h1>AmbonMUD Demo</h1>
        <div class="status-wrap">
            <span id="status" class="status disconnected">Disconnected</span>
            <button id="reconnect" type="button">Reconnect</button>
        </div>
    </header>
    <div class="game-layout">
        <div class="terminal-col">
            <section id="terminal" aria-label="AmbonMUD terminal"></section>
            <nav id="nav-bar" class="nav-bar" aria-label="Room exits">
                <span class="nav-label">Exits:</span>
                <div id="nav-exits" class="nav-exits"></div>
            </nav>
        </div>
        <aside id="sidebar">
            <div class="sidebar-panel" id="char-panel">
                <div class="panel-title">Character</div>
                <div class="char-identity">
                    <span id="char-name">—</span>
                    <span id="char-info" class="char-info-sub">—</span>
                </div>
                <div class="bar-label">HP <span id="hp-text">— / —</span></div>
                <div class="bar-wrap"><div class="bar-fill hp" id="hp-bar" style="width:0%"></div></div>
                <div class="bar-label">Mana <span id="mana-text">— / —</span></div>
                <div class="bar-wrap"><div class="bar-fill mana" id="mana-bar" style="width:0%"></div></div>
                <div class="bar-label">XP <span id="xp-bar-text">— / —</span></div>
                <div class="bar-wrap"><div class="bar-fill xp" id="xp-bar" style="width:0%"></div></div>
                <div class="stat-row">
                    <span class="stat-key">Level</span>
                    <span class="stat-val" id="level-val">—</span>
                </div>
                <div class="stat-row">
                    <span class="stat-key">XP Total</span>
                    <span class="stat-val" id="xp-val">—</span>
                </div>
                <div class="stat-row">
                    <span class="stat-key">Gold</span>
                    <span class="stat-val" id="gold-val">0</span>
                </div>
            </div>
            <div class="sidebar-panel map-panel-enhanced" id="map-panel">
                <div class="panel-title">World Map</div>
                <div class="canvas-container">
                    <canvas id="world-canvas" width="400" height="300" style="display: none;"></canvas>
                    <!-- Fallback to original map while canvas rendering in development -->
                    <canvas id="map-canvas" width="210" height="160"></canvas>
                    <div class="canvas-hud">
                        <div class="compass" id="compass">N</div>
                        <div class="zoom-controls">
                            <button id="zoom-in" class="zoom-btn" title="Zoom in (scroll)">+</button>
                            <button id="zoom-out" class="zoom-btn" title="Zoom out (scroll)">−</button>
                            <button id="zoom-reset" class="zoom-btn" title="Reset zoom">◐</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sidebar-panel" id="room-panel">
                <div class="panel-title">Room</div>
                <div id="room-title" class="room-title">—</div>
                <div id="room-desc" class="room-desc"></div>
                <div class="exits-label">Exits</div>
                <div id="exits-wrap" class="exits-wrap"></div>
            </div>
            <div class="sidebar-panel" id="players-panel">
                <div class="panel-title">Players Here</div>
                <div id="players-list" class="players-list"><span class="empty-hint">—</span></div>
            </div>
            <div class="sidebar-panel" id="mobs-panel">
                <div class="panel-title">Mobs Here</div>
                <div id="mobs-list" class="mobs-list"><span class="empty-hint">—</span></div>
            </div>
            <div class="sidebar-panel" id="effects-panel">
                <div class="panel-title">Effects</div>
                <div id="effects-list" class="effects-list"><span class="empty-hint">None</span></div>
            </div>
            <div class="sidebar-panel" id="inv-panel">
                <div class="panel-title">Inventory</div>
                <div id="inv-list" class="inv-list"><span class="empty-hint">—</span></div>
            </div>
            <div class="sidebar-panel" id="equip-panel">
                <div class="panel-title">Equipment</div>
                <div id="equip-list" class="equip-list"><span class="empty-hint">—</span></div>
            </div>
        </aside>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@xterm/xterm@5.5.0/lib/xterm.js"></script>
<!-- Canvas Rendering System (Phase 4) -->
<script src="/js/canvas-renderer.js"></script>
<script src="/js/camera.js"></script>
<script src="/js/canvas-interaction.js"></script>
<!-- Main Application -->
<script src="/app.js"></script>
</body>
</html>
